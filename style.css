:root{--wa-header-bg:#53051D;--wa-accent-blue:#34B7F1;--wa-message-out-bg:#e1f6fb;--wa-message-in-bg:#ffffff;--wa-app-bg:#FFF2C3;--wa-chat-bg:#e5ddd5;--wa-icon-color:#f0f2f5;--wa-text-primary:#111b21;--wa-text-secondary:#667781;--wa-border-color:#e9edef;--wa-active-tab-indicator:var(--wa-accent-blue);--wa-button-color:#008069;--wa-link-color:#00a8e8;--wa-shadow:rgba(17,27,33,0.15);--call-end-red:#e91e63;--call-accept-green:#4CAF50;--modal-bg:#f7f7f7;--modal-border-radius:12px;--modal-shadow:0 8px 25px rgba(0,0,0,0.3);--calc-bg:#1c1c1c;--calc-display-bg:#1c1c1c;--calc-btn-bg:#505050;--calc-btn-op-bg:#FF9500;--calc-btn-other-bg:#D4D4D2;--calc-text-primary:#FFFFFF;--calc-text-op:#FFFFFF;--calc-text-other:#1c1c1c;}
*{box-sizing:border-box;margin:0;padding:0;font-family:'Roboto',sans-serif;}
html,body{width:100%;height:100%;overflow:hidden;background-color:#d1d7db;display:flex;align-items:center;justify-content:center;color:var(--wa-text-primary);}
.hidden{display:none!important;}
::-webkit-scrollbar{width:6px;}
::-webkit-scrollbar-track{background:#f1f1ff;}
::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:6px;}
::-webkit-scrollbar-thumb:hover{background:#a8a8a8;}
#app-container{width:100%;height:100%;max-width:450px;max-height:950px;background-color:var(--wa-app-bg);border-radius:8px;box-shadow:0 4px 12px var(--wa-shadow);display:flex;flex-direction:column;overflow:hidden;position:relative;}
.view{width:100%;height:100%;display:flex;flex-direction:column;background-color:var(--wa-app-bg);position:absolute;top:0;left:0;transition:transform 0.3s ease,opacity 0.3s ease;}
.view.hidden{transform:translateX(100%);opacity:0;pointer-events:none;}
#auth-view.hidden{transform:scale(0.9);opacity:0;}
#calculator-view.hidden{transform:scale(1.1);opacity:0;pointer-events:none;}
.view:not(.hidden){transform:translateX(0);opacity:1;}
#calculator-view:not(.hidden){transform:scale(1);opacity:1;}
.icon-btn{background:none;border:none;cursor:pointer;padding:8px;border-radius:50%;display:flex;align-items:center;justify-content:center;}
.icon-btn svg{width:24px;height:24px;fill:var(--wa-icon-color);}
.icon-btn:hover{background-color:rgba(255,255,255,0.1);}
#calculator-view{background-color:var(--calc-bg);padding:20px;justify-content:flex-end;flex-direction:column;gap:20px;z-index:100;position:relative;}
#calc-notification-badge{position:absolute;top:20px;left:50%;transform:translateX(-50%);background-color:var(--wa-accent-blue);color:white;border-radius:50%;min-width:24px;height:24px;font-size:0.85rem;font-weight:500;display:flex;align-items:center;justify-content:center;z-index:110;padding:2px;box-shadow:0 2px 4px rgba(0,0,0,0.2);transition:transform 0.3s ease,opacity 0.3s ease;box-sizing:border-box;}
#calc-notification-badge.hidden{display:flex!important;transform:translateX(-50%) scale(0.5);opacity:0;pointer-events:none;}
#calc-display-wrapper{background-color:var(--calc-display-bg);padding:20px;text-align:right;flex-grow:1;display:flex;flex-direction:column;justify-content:flex-end;}
#calc-display{font-size:4.5rem;font-weight:300;color:var(--calc-text-primary);word-wrap:break-word;word-break:break-all;min-height:1.2em;line-height:1.3;transition:font-size 0.2s;}
#calc-buttons{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;}
.calc-btn{background-color:var(--calc-btn-bg);border:none;border-radius:50%;font-size:2.2rem;color:var(--calc-text-primary);cursor:pointer;aspect-ratio:1/1;display:flex;align-items:center;justify-content:center;transition:filter 0.2s,transform 0.1s;}
.calc-btn:active{transform:scale(0.95);filter:brightness(1.2);}
.calc-btn.span-2-rows{grid-row:span 2;aspect-ratio:1/2.15;border-radius:40px;}
.calc-btn.span-2-cols{grid-column:span 2;aspect-ratio:2.15/1;border-radius:40px;justify-content:flex-start;padding-left:30px;}
.calc-btn.op{background-color:var(--calc-btn-op-bg);color:var(--calc-text-op);}
.calc-btn.other{background-color:var(--calc-btn-other-bg);color:var(--calc-text-other);font-weight:500;}
#auth-view{justify-content:center;align-items:center;padding:20px;gap:20px;background:#f0f2f5;z-index:50;}
.auth-form-container{width:100%;max-width:380px;background:#f0f2f5;padding:30px;border-radius:20px;box-shadow:12px 12px 24px #bebebe,-12px -12px 24px #ffffff;}
#auth-view h1{color:#444;font-size:2rem;font-weight:700;text-align:center;margin-bottom:8px;}
.auth-developer-subtitle{color:#555;font-size:1rem;font-weight:400;text-align:center;margin-bottom:20px;letter-spacing:0.5px;}
.auth-form{display:flex;flex-direction:column;width:100%;gap:20px;}
.auth-form input{border:none;outline:none;background:#f0f2f5;padding:15px 20px;border-radius:10px;font-size:1rem;color:#555;box-shadow:inset 6px 6px 12px #bebebe,inset -6px -6px 12px #ffffff;}
.auth-form input:focus{box-shadow:inset 4px 4px 8px #bebebe,inset -4px -4px 8px #ffffff;}
.auth-btn{padding:15px;background:#f0f2f5;color:#555;border:none;outline:none;border-radius:10px;font-size:1rem;font-weight:700;cursor:pointer;box-shadow:6px 6px 12px #bebebe,-6px -6px 12px #ffffff;transition:all 0.2s ease-in-out;}
.auth-btn:hover{box-shadow:8px 8px 16px #bebebe,-8px -8px 16px #ffffff;}
.auth-btn:active{box-shadow:inset 6px 6px 12px #bebebe,inset -6px -6px 12px #ffffff;color:#333;}
.auth-link{color:#555;text-decoration:none;font-size:0.9rem;text-align:center;cursor:pointer;margin-top:10px;}
.auth-link:hover{text-decoration:underline;}
.error-message{color:var(--call-end-red);font-size:0.9rem;text-align:center;min-height:1.2em;}
#main-view{z-index:10;}
.main-header{background-color:var(--wa-header-bg);color:var(--wa-icon-color);flex-shrink:0;}
.header-top{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;}
.header-top h1{font-size:1.4rem;font-weight:500;}
.header-top-icons{display:flex;gap:8px;}
.header-nav{display:flex;justify-content:space-around;background-color:var(--wa-header-bg);}
.nav-tab{flex:1;text-align:center;padding:14px 0;font-size:1rem;font-weight:500;color:rgba(240,242,245,0.7);cursor:pointer;position:relative;border-bottom:3px solid transparent;transition:color 0.2s,border-bottom-color 0.2s;}
.nav-tab.active{color:var(--wa-accent-blue);border-bottom-color:var(--wa-active-tab-indicator);}
.badge{position:absolute;top:10px;right:20%;background-color:var(--wa-accent-blue);color:white;font-size:0.75rem;font-weight:500;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;line-height:1;padding-top:1px;}
#main-content{flex:1;overflow-y:auto;position:relative;}
.content-panel{width:100%;height:100%;position:absolute;background:#fff;}
.content-panel:not(.active){display:none;}
#home-content.active{display:flex;flex-direction:column;}
.list-item{display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid var(--wa-border-color);cursor:pointer;position:relative;overflow:hidden;background-color:#fff;transition:background-color 0.2s;}
.list-item:hover{background-color:var(--wa-app-bg);}
.delete-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(233,30,99,0.95);display:flex;align-items:center;justify-content:center;gap:15px;transform:translateX(100%);transition:transform 0.3s ease-out;z-index:5;}
.list-item.deleting .delete-overlay{transform:translateX(0);}
.delete-button,.cancel-delete-button{background:none;border:2px solid white;color:white;padding:8px 16px;border-radius:20px;font-weight:500;font-size:0.9rem;cursor:pointer;transition:background 0.2s;}
.delete-button:hover,.cancel-delete-button:hover{background:rgba(255,255,255,0.2);}
.item-emoji,.item-details,.item-actions{transition:opacity 0.3s ease-out;z-index:10;}
.list-item.deleting .item-emoji,.list-item.deleting .item-details,.list-item.deleting .item-actions{opacity:0.2;pointer-events:none;}
.item-emoji{font-size:2.5rem;margin-right:12px;background:var(--wa-border-color);width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;line-height:1;overflow:hidden;}
.item-emoji img{width:100%;height:100%;object-fit:cover;}
.item-emoji span{font-size:2.5rem;line-height:1;user-select:none;color:var(--wa-text-secondary);}
.item-details{flex:1;overflow:hidden;}
.item-name{font-size:1.1rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.item-subtext{font-size:0.9rem;color:var(--wa-text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.item-actions{display:flex;flex-direction:column;align-items:flex-end;gap:4px;font-size:0.8rem;color:var(--wa-text-secondary);}
.item-actions .badge{position:static;}
.notification-actions{display:flex;gap:8px;margin-top:8px;}
.notif-btn{padding:6px 12px;border:none;border-radius:6px;cursor:pointer;font-weight:500;}
.notif-btn.accept{background-color:var(--wa-button-color);color:white;}
.notif-btn.reject{background-color:var(--wa-border-color);color:var(--wa-text-primary);}
#chat-view{background-color:var(--wa-chat-bg);z-index:60;}
.chat-header{display:flex;align-items:center;gap:8px;background-color:var(--wa-header-bg);color:var(--wa-icon-color);padding:10px;flex-shrink:0;}
.chat-contact-info{display:flex;align-items:center;gap:10px;flex:1;cursor:pointer;}
.chat-contact-info .item-emoji{width:40px;height:40px;font-size:1.8rem;margin-right:0;}
.chat-contact-info .item-emoji span{font-size:1.8rem;}
.chat-contact-details .item-name{color:var(--wa-icon-color);font-size:1.1rem;}
.chat-contact-details .item-subtext{color:rgba(240,242,245,0.8);font-size:0.8rem;}
.chat-header-icons{display:flex;}
#chat-messages{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:8px;background-image:url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23bdbdbd' fill-opacity='0.15' fill-rule='evenodd'%3E%3Cpath d='M0 40L40 0H20L0 20M40 40V20L20 40'/%3E%3C/g%3E%3C/svg%3E");}
.message-bubble{padding:8px 12px;border-radius:12px;max-width:75%;word-wrap:break-word;box-shadow:0 1px 1px var(--wa-shadow);position:relative;}
.message-sent{align-self:flex-end;background-color:var(--wa-message-out-bg);border-top-right-radius:4px;}
.message-received{align-self:flex-start;background-color:var(--wa-message-in-bg);border-top-left-radius:4px;}
.message-content-wrapper{display:flex;align-items:flex-end;}
.message-text{margin-right:4px;}
.message-time-status{display:flex;align-items:center;font-size:0.75rem;color:var(--wa-text-secondary);user-select:none;line-height:1;margin-left:8px;flex-shrink:0;}
.message-status-icon{width:14px;height:14px;margin-left:4px;fill:var(--wa-text-secondary);}
.message-status-icon.seen{fill:var(--wa-accent-blue);}
#chat-input-container{display:flex;align-items:center;gap:8px;padding:8px 12px;background-color:var(--wa-app-bg);flex-shrink:0;}
#chat-input{flex:1;padding:12px 18px;border:none;border-radius:24px;font-size:1rem;}
#chat-input:focus{outline:none;}
#chat-send-btn{background-color:var(--wa-button-color);border-radius:50%;padding:12px;transition:background-color 0.2s;}
#chat-send-btn:hover{background-color:#006652;}
#chat-send-btn svg{fill:white;width:20px;height:20px;}
.call-view{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#222;z-index:70;}
#remote-video,#local-video{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;}
#local-video{width:100px;height:150px;bottom:20px;right:20px;top:auto;left:auto;border:1px solid #fff;border-radius:8px;}
.call-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom,rgba(0,0,0,0.5),rgba(0,0,0,0.1) 50%,rgba(0,0,0,0.7));display:flex;flex-direction:column;justify-content:space-between;align-items:center;padding:40px 20px;}
.caller-info{text-align:center;color:white;}
.caller-info .item-emoji{width:120px;height:120px;font-size:4.5rem;margin:0 auto 16px;}
.caller-info .item-name{font-size:1.8rem;font-weight:500;}
.caller-info .item-subtext{font-size:1rem;color:rgba(255,255,255,0.8);}
.call-controls{display:flex;justify-content:center;gap:20px;width:100%;}
.call-btn{background:rgba(255,255,255,0.2);border:none;border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;cursor:pointer;}
.call-btn svg{width:32px;height:32px;fill:white;}
.call-btn.end{background-color:var(--call-end-red);}
.call-btn.accept{background-color:var(--call-accept-green);}
#voice-call-view .call-overlay{background:#333;justify-content:center;gap:50px;}
#voice-call-view .caller-info{margin-top:-100px;}
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;z-index:1000;max-width:450px;max-height:950px;margin:auto;}
.modal-content{background:var(--modal-bg);padding:24px;border-radius:var(--modal-border-radius);width:90%;max-width:380px;box-shadow:var(--modal-shadow);display:flex;flex-direction:column;gap:16px;transform:scale(1);transition:transform 0.3s ease-out;}
.modal.hidden{}
.modal.hidden .modal-content{transform:scale(0.95);opacity:0;}
.modal-content h2{font-size:1.6rem;color:var(--wa-header-bg);text-align:center;font-weight:700;}
.modal-content form{display:flex;flex-direction:column;gap:12px;}
.modal-content input{padding:12px;border:1px solid #ccc;border-radius:8px;font-size:1rem;}
.modal-content button{padding:12px;background-color:var(--wa-button-color);color:white;border:none;border-radius:8px;font-size:1rem;cursor:pointer;transition:background-color 0.2s;}
.modal-content button:hover{background-color:#006652;}
.modal-content .close-modal-btn{background-color:#f0f0f0;color:var(--wa-text-primary);}
.modal-content .close-modal-btn:hover{background-color:#e0e0e0;}
.modal-content p{font-size:1rem;color:var(--wa-text-secondary);text-align:center;}
#incoming-call-modal .modal-content{background:#fff;align-items:center;}
#incoming-call-modal .item-emoji span{font-size:4.5rem;}
#profile-view-content{gap:15px;}
.profile-info-frame{display:flex;flex-direction:column;align-items:center;gap:10px;padding:16px;background:#fff;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.05);}
#profile-pic-wrapper{font-size:4.5rem;width:110px;height:110px;margin:0;cursor:pointer;color:var(--wa-text-primary);}
#profile-pic-wrapper span{font-size:4.5rem;}
.profile-name-wrapper{display:flex;align-items:center;gap:10px;}
#profile-view-name{font-size:1.8rem;font-weight:700;word-break:break-all;}
#profile-edit-name-btn{background:#eee;padding:6px;border-radius:50%;border:none;cursor:pointer;display:flex;}
#profile-edit-name-btn:hover{background:#ddd;}
#profile-edit-name-form{display:flex;gap:8px;margin-top:5px;width:100%;}
#profile-name-input{flex:1;padding:8px;border:1px solid #ccc;border-radius:6px;font-size:1rem;}
#profile-save-name-btn{padding:8px 12px;font-size:0.9rem;}
#profile-view-email{font-size:1rem;color:var(--wa-text-secondary);}
.profile-id-frame{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#fff;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.05);flex-direction:column;gap:10px;}
.id-wrapper,.email-wrapper{display:flex;align-items:center;justify-content:space-between;width:100%;}
.id-text-wrapper,.email-text-wrapper{display:flex;flex-direction:column;gap:2px;overflow:hidden;}
.id-text-wrapper p,.email-text-wrapper p{font-size:0.8rem;color:var(--wa-text-secondary);}
#profile-user-id-text,#profile-user-email-text{font-size:0.95rem;font-weight:500;color:var(--wa-text-primary);word-break:break-all;}
#profile-copy-id-btn,#profile-copy-email-btn{background:var(--wa-border-color);border-radius:50%;padding:8px;cursor:pointer;flex-shrink:0;margin-left:12px;border:none;}
#profile-copy-id-btn svg,#profile-copy-email-btn svg{fill:var(--wa-text-secondary);width:20px;height:20px;display:block;}
.profile-blocked-frame{display:flex;flex-direction:column;gap:8px;padding:12px 16px;background:#fff;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.05);}
.profile-blocked-frame strong{text-align:center;font-size:1.1rem;color:var(--wa-header-bg);}
#blocked-users-list{max-height:150px;overflow-y:auto;background:#fcfcfc;border-radius:6px;border:1px solid var(--wa-border-color);}
.blocked-user-item{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;border-bottom:1px solid var(--wa-border-color);}
.unblock-btn{font-size:0.8rem;padding:4px 10px;background:var(--wa-link-color);border-radius:6px;color:white;}
.unblock-btn:hover{background:#0088c4;}
.profile-button-group{display:flex;flex-direction:column;gap:10px;margin-top:5px;}
#logout-btn{background-color:var(--call-end-red);}
#logout-btn:hover{background-color:#c91652;}

/* Custom Notification Styles */
#notification-container {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10000; /* Above all */
    display: flex;
    flex-direction: column;
    align-items: center;
    pointer-events: none; /* Allows clicks to pass through */
    max-width: 90%;
}
.custom-notification {
    background-color: rgba(17, 27, 33, 0.9); /* Dark background */
    color: white;
    padding: 12px 20px;
    border-radius: 20px;
    margin-top: 10px;
    font-size: 0.95rem;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    opacity: 0;
    transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
    transform: translateY(100%);
    text-align: center;
    pointer-events: all; /* Make the notification itself clickable/interactable */
    display: flex;
    align-items: center;
    gap: 10px;
}
.custom-notification.show {
    opacity: 1;
    transform: translateY(0);
}
.notification-action-buttons {
    display: flex;
    gap: 8px;
    margin-left: 10px;
}
.notification-action-buttons button {
    background: none;
    border: 1px solid white;
    color: white;
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 0.85rem;
    cursor: pointer;
    pointer-events: all;
}
.notification-action-buttons button:hover {
    background-color: rgba(255, 255, 255, 0.2);
}
/* Custom Prompt Modal */
#custom-prompt-modal {
    background: rgba(0, 0, 0, 0.6);
}
#custom-prompt-modal .modal-content {
    background: var(--modal-bg);
}